<html>
<head>
<title>Substituting using regular expressions</title>
<link rel="StyleSheet" href="../../style.css" type="text/css">
</head>
<body>
<table>
<tr>
<td>
<a href="../../" class="nav">Contents</a></td>
<td>
<a href="../" class="nav">Up</a></td>
<td>
<a href="../binding.html" class="nav">Previous</a></td>
<td>
<a href="e_switch.html" class="nav">Next</a></td>
</tr>
</table>

<h1 class="fcs">7.7 Substituting using regular expressions</h1>

<p>
One can use regular expression to substitute an occurence
of a regular expression found inside a string to something else. The operator
used for this is <tt>s/$exp_to_search/$exp_to_subs_for/</tt>. The following 
simple program replaces a number with the string "Some Number":
</p>


<p>
<table class="mycode">
<tr class="mycode">
<td class="mycode">
<pre class="mycode">
<B><FONT color=#a52929>use strict</FONT></B>;

<B><FONT color=#a52929>my</FONT></B> <FONT color=#008c8c>$string</FONT> = <B><FONT color=#a52929>shift</FONT></B>;

<FONT color=#008c8c>$string</FONT> =~ <B><FONT color=#a52929>s/</FONT></B><FONT color=#6b5ace>[0-9]+</FONT><B><FONT color=#a52929>/</FONT></B><FONT color=#ff00ff>Some Number</FONT><B><FONT color=#a52929>/</FONT></B>;

<B><FONT color=#a52929>print</FONT></B> <FONT color=#008c8c>$string</FONT>, <FONT color=#ff00ff>&quot;</FONT><FONT color=#6b5ace>\n</FONT><FONT color=#ff00ff>&quot;</FONT>;
</pre>
</td>
</tr>
</table>
</p>

<p>
Notice that in this case, only the first occurence of the string will be 
substituted. The <tt>g</tt> switch which will be covered soon, enables us to 
substitute <b>all</b> of the occurences.
</p>

<p>
One can include the strings that are matched in the expression as part of
the substitution string, as long as they are surrounded by parenthesis. The
first string inside a parenthesis is <tt>$1</tt>, the second <tt>$2</tt> etc. 
</p>


<p>
Here's an example which reverses the order of two words at the beginning of a
sentence:
</p>


<p>
<table class="mycode">
<tr class="mycode">
<td class="mycode">
<pre class="mycode">
<B><FONT color=#a52929>use strict</FONT></B>;

<B><FONT color=#a52929>my</FONT></B> <FONT color=#008c8c>$string</FONT> = <B><FONT color=#a52929>shift</FONT></B>;

<FONT color=#008c8c>$string</FONT> =~ <B><FONT color=#a52929>s/</FONT></B><FONT color=#ff00ff>^</FONT><FONT color=#6b5ace>([A-Za-z]+)</FONT><FONT color=#ff00ff> </FONT><FONT color=#6b5ace>*([A-Za-z]+)</FONT><B><FONT color=#a52929>/</FONT></B><FONT color=#008c8c>$2</FONT><FONT color=#ff00ff> </FONT><FONT color=#008c8c>$1</FONT><B><FONT color=#a52929>/</FONT></B>;

<B><FONT color=#a52929>print</FONT></B> <FONT color=#008c8c>$string</FONT>, <FONT color=#ff00ff>&quot;</FONT><FONT color=#6b5ace>\n</FONT><FONT color=#ff00ff>&quot;</FONT>;
</pre>
</td>
</tr>
</table>
</p>

<p>
<table class="note">
<tr class="note">
<td class="note">

<h3 class="note">Note</h3>

<p>
The <tt>$1</tt>, <tt>$2</tt> variables are also available after the regular 
expression match or substitution is performed, and can be used inside
your perl code.
</p>

</td>
</tr>
</table>
</p>




<hr>
<table>
<tr>
<td>
<a href="../../" class="nav">Contents</a></td>
<td>
<a href="../" class="nav">Up</a></td>
<td>
<a href="../binding.html" class="nav">Previous</a></td>
<td>
<a href="e_switch.html" class="nav">Next</a></td>
</tr>
</table>

</body>
</html>


