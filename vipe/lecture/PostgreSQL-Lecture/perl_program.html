<html>
<head>
<title>PostgreSQL - Example Perl Program</title>
</head>
<body bgcolor="#FFFFFF">

<h1>Example Perl Program</h1>

<PRE>
<FONT color=#a620f7>#!/usr/bin/perl</FONT>

<B><FONT color=#a62828>use </FONT></B>DBI;

<B><FONT color=#a62828>use strict</FONT></B>;

<B><FONT color=#a62828>my</FONT></B> <FONT color=#008a8e>$conn</FONT> = DBI-&gt;<B><FONT color=#a62828>connect</FONT></B>(<FONT color=#ff00ff>&quot;</FONT><FONT color=#ff00ff>dbi:Pg:dbname=test</FONT><FONT color=#ff00ff>&quot;</FONT>);

<B><FONT color=#a62828>my</FONT></B> (<FONT color=#008a8e>$first_name</FONT>, <FONT color=#008a8e>$last_name</FONT>, <FONT color=#008a8e>$hired_at</FONT>);
<B><FONT color=#a62828>my</FONT></B> (<FONT color=#008a8e>@row</FONT>);

<FONT color=#008a8e>$conn</FONT>-&gt;<B><FONT color=#a62828>do</FONT></B>(<FONT color=#ff00ff>&quot;</FONT><FONT color=#ff00ff>SET DateStyle = 'European'</FONT><FONT color=#ff00ff>&quot;</FONT>);

<B><FONT color=#a62828>my</FONT></B> <FONT color=#008a8e>$query</FONT> = <FONT color=#008a8e>$conn</FONT>-&gt;prepare(
    <FONT color=#ff00ff>&quot;</FONT><FONT color=#ff00ff>SELECT first_name, last_name, hired_at</FONT><FONT color=#ff00ff>&quot;</FONT> .
    <FONT color=#ff00ff>&quot;</FONT><FONT color=#ff00ff> FROM employees</FONT><FONT color=#ff00ff>&quot;</FONT> .
    <FONT color=#ff00ff>&quot;</FONT><FONT color=#ff00ff> ORDER BY last_name, first_name</FONT><FONT color=#ff00ff>&quot;</FONT>
    );
<FONT color=#008a8e>$query</FONT>-&gt;execute();

<B><FONT color=#a62828>print</FONT></B> <B><FONT color=#a62828>sprintf</FONT></B>(<FONT color=#ff00ff>&quot;</FONT><FONT color=#ff00ff>%-40s%-20s</FONT><FONT color=#ff00ff>&quot;</FONT>, <FONT color=#ff00ff>&quot;</FONT><FONT color=#ff00ff>Name:</FONT><FONT color=#ff00ff>&quot;</FONT>, <FONT color=#ff00ff>&quot;</FONT><FONT color=#ff00ff>Hired At:</FONT><FONT color=#ff00ff>&quot;</FONT>), <FONT color=#ff00ff>&quot;</FONT><FONT color=#6959cf>\n</FONT><FONT color=#ff00ff>&quot;</FONT>;
<B><FONT color=#a62828>print</FONT></B> <FONT color=#ff00ff>&quot;</FONT><FONT color=#ff00ff>-</FONT><FONT color=#ff00ff>&quot;</FONT> x <FONT color=#ff00ff>60</FONT> . <FONT color=#ff00ff>&quot;</FONT><FONT color=#6959cf>\n</FONT><FONT color=#ff00ff>&quot;</FONT>;
<B><FONT color=#a62828>while</FONT></B> (<FONT color=#008a8e>@row</FONT> = <FONT color=#008a8e>$query</FONT>-&gt;fetchrow_array())
{
    (<FONT color=#008a8e>$first_name</FONT>, <FONT color=#008a8e>$last_name</FONT>, <FONT color=#008a8e>$hired_at</FONT>) = <FONT color=#008a8e>@row</FONT>;

    <B><FONT color=#a62828>print</FONT></B> <B><FONT color=#a62828>sprintf</FONT></B>(<FONT color=#ff00ff>&quot;</FONT><FONT color=#ff00ff>%-40s%-20s</FONT><FONT color=#ff00ff>&quot;</FONT>, <FONT color=#008a8e>$first_name</FONT> . <FONT color=#ff00ff>&quot;</FONT><FONT color=#ff00ff> </FONT><FONT color=#ff00ff>&quot;</FONT> . <FONT color=#008a8e>$last_name</FONT>, <FONT color=#008a8e>$hired_at</FONT>), 
        <FONT color=#ff00ff>&quot;</FONT><FONT color=#6959cf>\n</FONT><FONT color=#ff00ff>&quot;</FONT>;    
}

<B><FONT color=#a62828>undef</FONT></B>(<FONT color=#008a8e>$query</FONT>);
<FONT color=#008a8e>$conn</FONT>-&gt;disconnect();
<FONT color=#008a8e>$conn</FONT> = <B><FONT color=#a62828>undef</FONT></B>;
</PRE>

</body>
</html>
