<html>
<head>
<title>Hashes</title>
<link rel="StyleSheet" href="../style.css" type="text/css">
</head>
<body>
<table>
<tr>
<td>
<a href="../" class="nav">Contents</a></td>
<td>
<a href="../" class="nav">Up</a></td>
<td>
<a href="../for/whence_for.html" class="nav">Previous</a></td>
<td>
<a href="functions.html" class="nav">Next</a></td>
</tr>
</table>

<h1 class="fcs">2 Hashes</h1>

<p>
Hashes can be used to map a set of keys, each to his own value. Using a
hash one can retrieve the value associated with each key, as well as get
a list of all the keys present in the hash.
</p>

<p>
To assign or retrieve the value of the key <tt>$mykey</tt> in the hash 
<tt>$myhash</tt> one uses the <tt>$myhash{$mykey}</tt> convention. To check if a
key exists in a hash one should type <tt>exists($myhash{$mykey})</tt> 
which in turn returns a boolean value that indicates its existence.
</p>

<p>
An array whose elements are the keys present in the hash can be retrieved 
by typing <tt>keys(%myhash)</tt>. Here's a short example, that runs a simple 
bank, that will illustrate this functionality:
</p>


<p>
<table class="mycode">
<tr class="mycode">
<td class="mycode">
<pre class="mycode">
<FONT color=#0000ff># Initialize the valid operations collection</FONT>
<FONT color=#008080>$ops</FONT>{<FONT color=#ff00ff>'</FONT><FONT color=#ff00ff>create</FONT><FONT color=#ff00ff>'</FONT>} = <FONT color=#ff00ff>1</FONT>;
<FONT color=#008080>$ops</FONT>{<FONT color=#ff00ff>'</FONT><FONT color=#ff00ff>deposit</FONT><FONT color=#ff00ff>'</FONT>} = <FONT color=#ff00ff>1</FONT>;
<FONT color=#008080>$ops</FONT>{<FONT color=#ff00ff>'</FONT><FONT color=#ff00ff>status</FONT><FONT color=#ff00ff>'</FONT>} = <FONT color=#ff00ff>1</FONT>;
<FONT color=#008080>$ops</FONT>{<FONT color=#ff00ff>'</FONT><FONT color=#ff00ff>exit</FONT><FONT color=#ff00ff>'</FONT>} = <FONT color=#ff00ff>2</FONT>;

<B><FONT color=#804040>while</FONT></B> (<FONT color=#ff00ff>1</FONT>)
{
    <FONT color=#0000ff># Get a valid input from the user.</FONT>
    <B><FONT color=#804040>while</FONT></B> (<FONT color=#ff00ff>1</FONT>)
    {
        <B><FONT color=#804040>print</FONT></B> <FONT color=#ff00ff>&quot;</FONT><FONT color=#ff00ff>Please enter what you want to do:</FONT><FONT color=#6a5acd>\n</FONT><FONT color=#ff00ff>&quot;</FONT>;
        <B><FONT color=#804040>print</FONT></B> <FONT color=#ff00ff>&quot;</FONT><FONT color=#ff00ff>(</FONT><FONT color=#ff00ff>&quot;</FONT> . <B><FONT color=#804040>join</FONT></B>(<FONT color=#ff00ff>&quot;</FONT><FONT color=#ff00ff>, </FONT><FONT color=#ff00ff>&quot;</FONT>, <B><FONT color=#804040>keys</FONT></B>(<FONT color=#008080>%ops</FONT>)) . <FONT color=#ff00ff>&quot;</FONT><FONT color=#ff00ff>)</FONT><FONT color=#6a5acd>\n</FONT><FONT color=#ff00ff>&quot;</FONT>;

        <FONT color=#008080>$function</FONT> = &lt;&gt;;
        <B><FONT color=#804040>chomp</FONT></B>(<FONT color=#008080>$function</FONT>);
    
        <B><FONT color=#804040>if</FONT></B> (<B><FONT color=#804040>exists</FONT></B>(<FONT color=#008080>$ops</FONT>{<FONT color=#008080>$function</FONT>}))
        {
            <B><FONT color=#804040>last</FONT></B>;
        }
        <B><FONT color=#804040>print</FONT></B> <FONT color=#ff00ff>&quot;</FONT><FONT color=#ff00ff>Unknown function!</FONT><FONT color=#6a5acd>\n</FONT><FONT color=#ff00ff> Please try again.</FONT><FONT color=#6a5acd>\n\n</FONT><FONT color=#ff00ff>&quot;</FONT>
    }

    <B><FONT color=#804040>if</FONT></B> (<FONT color=#008080>$function</FONT> <B><FONT color=#804040>eq</FONT></B> <FONT color=#ff00ff>&quot;</FONT><FONT color=#ff00ff>exit</FONT><FONT color=#ff00ff>&quot;</FONT>)
    {
        <B><FONT color=#804040>last</FONT></B>;
    }
    
    <B><FONT color=#804040>print</FONT></B> <FONT color=#ff00ff>&quot;</FONT><FONT color=#ff00ff>Enter the name of the account:</FONT><FONT color=#6a5acd>\n</FONT><FONT color=#ff00ff>&quot;</FONT>;
    <FONT color=#008080>$account</FONT> = &lt;&gt;;
    <B><FONT color=#804040>chomp</FONT></B>(<FONT color=#008080>$account</FONT>);    
    <B><FONT color=#804040>if</FONT></B> (<FONT color=#008080>$function</FONT> <B><FONT color=#804040>eq</FONT></B> <FONT color=#ff00ff>&quot;</FONT><FONT color=#ff00ff>create</FONT><FONT color=#ff00ff>&quot;</FONT>)
    {
        <B><FONT color=#804040>if</FONT></B> (! <B><FONT color=#804040>exists</FONT></B>(<FONT color=#008080>$bank_accounts</FONT>{<FONT color=#008080>$account</FONT>}))
        {
            <FONT color=#008080>$bank_accounts</FONT>{<FONT color=#008080>$account</FONT>} = <FONT color=#ff00ff>0</FONT>;
        }       
    }
    <B><FONT color=#804040>elsif</FONT></B> (<FONT color=#008080>$function</FONT> <B><FONT color=#804040>eq</FONT></B> <FONT color=#ff00ff>&quot;</FONT><FONT color=#ff00ff>status</FONT><FONT color=#ff00ff>&quot;</FONT>)
    {
        <B><FONT color=#804040>if</FONT></B> (! <B><FONT color=#804040>exists</FONT></B> (<FONT color=#008080>$bank_accounts</FONT>{<FONT color=#008080>$account</FONT>}) )
        {
            <B><FONT color=#804040>print</FONT></B> <FONT color=#ff00ff>&quot;</FONT><FONT color=#ff00ff>Error! The account does not exist.</FONT><FONT color=#6a5acd>\n</FONT><FONT color=#ff00ff>&quot;</FONT>;
        }
        <B><FONT color=#804040>else</FONT></B>
        {
            <B><FONT color=#804040>print</FONT></B> <FONT color=#ff00ff>&quot;</FONT><FONT color=#ff00ff>There are </FONT><FONT color=#ff00ff>&quot;</FONT> . <FONT color=#008080>$bank_accounts</FONT>{<FONT color=#008080>$account</FONT>} . 
                <FONT color=#ff00ff>&quot;</FONT><FONT color=#ff00ff> NIS in the account.</FONT><FONT color=#6a5acd>\n</FONT><FONT color=#ff00ff>&quot;</FONT>;
        }
    }
    <B><FONT color=#804040>elsif</FONT></B> (<FONT color=#008080>$function</FONT> <B><FONT color=#804040>eq</FONT></B> <FONT color=#ff00ff>&quot;</FONT><FONT color=#ff00ff>deposit</FONT><FONT color=#ff00ff>&quot;</FONT>)
    {
        <B><FONT color=#804040>if</FONT></B> (<B><FONT color=#804040>exists</FONT></B>(<FONT color=#008080>$bank_accounts</FONT>{<FONT color=#008080>$account</FONT>}) )
        {
            <B><FONT color=#804040>print</FONT></B> <FONT color=#ff00ff>&quot;</FONT><FONT color=#ff00ff>How much do you wish to deposit?</FONT><FONT color=#6a5acd>\n</FONT><FONT color=#ff00ff>&quot;</FONT>;
            <FONT color=#008080>$how_much</FONT> = &lt;&gt;; 
            <B><FONT color=#804040>chomp</FONT></B>(<FONT color=#008080>$how_much</FONT>);
            <FONT color=#008080>$bank_accounts</FONT>{<FONT color=#008080>$account</FONT>} += <FONT color=#008080>$how_much</FONT>;
        }
    }
    <B><FONT color=#804040>print</FONT></B> <FONT color=#ff00ff>&quot;</FONT><FONT color=#6a5acd>\n</FONT><FONT color=#ff00ff>&quot;</FONT>;
}
</pre>
</td>
</tr>
</table>
</p>

<p>
The following example, which is considerably shorter, uses a hash to
find out if a list of strings contains only unique strings:
</p>


<p>
<table class="mycode">
<tr class="mycode">
<td class="mycode">
<pre class="mycode">
<B><FONT color=#804040>while</FONT></B>(<FONT color=#008080>$string</FONT> = &lt;&gt;)
{
    <B><FONT color=#804040>chomp</FONT></B>(<FONT color=#008080>$string</FONT>);
    <B><FONT color=#804040>if</FONT></B> (<B><FONT color=#804040>exists</FONT></B>(<FONT color=#008080>$myhash</FONT>{<FONT color=#008080>$string</FONT>}))
    {
        <B><FONT color=#804040>print</FONT></B> <FONT color=#ff00ff>&quot;</FONT><FONT color=#ff00ff>The string </FONT><FONT color=#6a5acd>\&quot;</FONT><FONT color=#ff00ff>&quot;</FONT> . <FONT color=#008080>$string</FONT> . <FONT color=#ff00ff>&quot;</FONT><FONT color=#6a5acd>\&quot;</FONT><FONT color=#ff00ff> was already encountered!</FONT><FONT color=#ff00ff>&quot;</FONT>;
        <B><FONT color=#804040>last</FONT></B>;
    }
    <B><FONT color=#804040>else</FONT></B>
    {
        <FONT color=#008080>$myhash</FONT>{<FONT color=#008080>$string</FONT>} = <FONT color=#ff00ff>1</FONT>;
    }
}
</pre>
</td>
</tr>
</table>
</p>



<hr>
<table>
<tr>
<td>
<a href="../" class="nav">Contents</a></td>
<td>
<a href="../" class="nav">Up</a></td>
<td>
<a href="../for/whence_for.html" class="nav">Previous</a></td>
<td>
<a href="functions.html" class="nav">Next</a></td>
</tr>
</table>

</body>
</html>


