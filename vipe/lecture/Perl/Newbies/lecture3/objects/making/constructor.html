<html>
<head>
<title>The Constructor</title>
<link rel="StyleSheet" href="./../../style.css" type="text/css">
</head>
<body>
<table>
<tr>
<td>
<a href="./../../" class="nav">Contents</a></td>
<td>
<a href="./" class="nav">Up</a></td>
<td>
<a href="./" class="nav">Previous</a></td>
<td>
<a href="./methods.html" class="nav">Next</a></td>
</tr>
</table>

<h1 class="fcs">4.3.1 The Constructor</h1>

<p>
Here is an example, constructor for the class <tt>Foo</tt>:
</p>


<p>
<table class="mycode">
<tr class="mycode">
<td class="mycode">
<pre class="mycode">
<FONT color=#0000ff>#</FONT>
<FONT color=#0000ff># Foo.pm</FONT>
<FONT color=#0000ff>#</FONT>
<B><FONT color=#a52a2a>package</FONT></B><B><FONT color=#2e8b57> Foo;</FONT></B>

<B><FONT color=#a52a2a>sub</FONT></B><FONT color=#008b8b> </FONT><FONT color=#008b8b>new</FONT>
{
    <FONT color=#0000ff># Retrieve the package's string.</FONT>
    <FONT color=#0000ff># It is not necessarily Foo, because this constructor may be</FONT>
    <FONT color=#0000ff># called from a class that inherits Foo.</FONT>
    <B><FONT color=#a52a2a>my</FONT></B> <FONT color=#008b8b>$class</FONT> = <B><FONT color=#a52a2a>shift</FONT></B>;

    <FONT color=#0000ff># $self is the the object. Let's initialize it to an empty hash</FONT>
    <FONT color=#0000ff># reference.</FONT>
    <B><FONT color=#a52a2a>my</FONT></B> <FONT color=#008b8b>$self</FONT> = {};
    
    <FONT color=#0000ff># Associate $self with the class $class. This is probably the most</FONT>
    <FONT color=#0000ff># important step.</FONT>
    <B><FONT color=#a52a2a>bless</FONT></B> <FONT color=#008b8b>$self</FONT>, <FONT color=#008b8b>$class</FONT>;

    <FONT color=#0000ff># Now we can retrieve the other arguments passed to the </FONT>
    <FONT color=#0000ff># construtor.</FONT>
    
    <B><FONT color=#a52a2a>my</FONT></B> <FONT color=#008b8b>$name</FONT> = <B><FONT color=#a52a2a>shift</FONT></B> || <FONT color=#ff00ff>&quot;</FONT><FONT color=#ff00ff>Fooish</FONT><FONT color=#ff00ff>&quot;</FONT>;
    <B><FONT color=#a52a2a>my</FONT></B> <FONT color=#008b8b>$number</FONT> = <B><FONT color=#a52a2a>shift</FONT></B> || <FONT color=#ff00ff>5</FONT>;
    
    <FONT color=#0000ff># Put these arguments inside class members</FONT>
    <FONT color=#008b8b>$self</FONT>-&gt;{<FONT color=#ff00ff>'</FONT><FONT color=#ff00ff>name</FONT><FONT color=#ff00ff>'</FONT>} = <FONT color=#008b8b>$name</FONT>;
    <FONT color=#008b8b>$self</FONT>-&gt;{<FONT color=#ff00ff>'</FONT><FONT color=#ff00ff>number</FONT><FONT color=#ff00ff>'</FONT>} = <FONT color=#ff00ff>5</FONT>;

    <FONT color=#0000ff># Return $self so the user can use it.</FONT>
    <B><FONT color=#a52a2a>return</FONT></B> <FONT color=#008b8b>$self</FONT>;
}

<FONT color=#ff00ff>1</FONT>;

</pre>
</td>
</tr>
</table>
</p>

<p>
And here is an example script that uses this constructor:
</p>


<p>
<table class="mycode">
<tr class="mycode">
<td class="mycode">
<pre class="mycode">
<FONT color=#a020f0>#!/usr/bin/perl</FONT>

<B><FONT color=#a52a2a>use strict</FONT></B>;

<B><FONT color=#a52a2a>use </FONT></B>Foo;

<B><FONT color=#a52a2a>my</FONT></B> <FONT color=#008b8b>$foo</FONT> = Foo-&gt;<B><FONT color=#a52a2a>new</FONT></B>(<FONT color=#ff00ff>&quot;</FONT><FONT color=#ff00ff>MyFoo</FONT><FONT color=#ff00ff>&quot;</FONT>, <FONT color=#ff00ff>500</FONT>);

<B><FONT color=#a52a2a>print</FONT></B> <FONT color=#008b8b>$foo</FONT>-&gt;{<FONT color=#ff00ff>'</FONT><FONT color=#ff00ff>name</FONT><FONT color=#ff00ff>'</FONT>}, <FONT color=#ff00ff>&quot;</FONT><FONT color=#6a5acd>\n</FONT><FONT color=#ff00ff>&quot;</FONT>;

</pre>
</td>
</tr>
</table>
</p>



<hr>
<table>
<tr>
<td>
<a href="./../../" class="nav">Contents</a></td>
<td>
<a href="./" class="nav">Up</a></td>
<td>
<a href="./" class="nav">Previous</a></td>
<td>
<a href="./methods.html" class="nav">Next</a></td>
</tr>
</table>

</body>
</html>


