<html>
<head>
<title>Built-In Array Functions</title>
<link rel="StyleSheet" href="./../style.css" type="text/css">
</head>
<body>
<table>
<tr>
<td>
<a href="./../" class="nav">Contents</a></td>
<td>
<a href="./" class="nav">Up</a></td>
<td>
<a href="./foreach/for_and_dotdot.html" class="nav">Previous</a></td>
<td>
<a href="./x.html" class="nav">Next</a></td>
</tr>
</table>

<h1 class="fcs">9.3 Built-In Array Functions</h1>

<h2>push</h2>

<p>
The <tt>push</tt> function appends an element or an entire array to the
end of an array variable. The syntax is <tt>push @array_to_append_to, @array_to_append</tt> or <tt>push @array, $elem1</tt>. For example, the primes program from earlier could be written as:
</p>

<p>
<table class="mycode">
<tr class="mycode">
<td class="mycode">
<pre class="mycode">
<FONT color=#0000ff># Put 2 as the first prime so we won't have an empty array,</FONT>
<FONT color=#0000ff># what might confuse the interpreter</FONT>
<FONT color=#008080>@primes</FONT> = (<FONT color=#ff00ff>2</FONT>);

MAIN_LOOP: 
<B><FONT color=#804040>for</FONT></B> <FONT color=#008080>$number_to_check</FONT> (<FONT color=#ff00ff>3</FONT> .. <FONT color=#ff00ff>200</FONT>)
{
    <B><FONT color=#804040>foreach</FONT></B> <FONT color=#008080>$p</FONT> (<FONT color=#008080>@primes</FONT>)
    {
        <B><FONT color=#804040>if</FONT></B> (<FONT color=#008080>$number_to_check</FONT> % <FONT color=#008080>$p</FONT> == <FONT color=#ff00ff>0</FONT>)
        {
            <B><FONT color=#804040>next</FONT></B> MAIN_LOOP;
        }
    }

    <FONT color=#0000ff># If we reached this point it means $number_to_check is not</FONT>
    <FONT color=#0000ff># divisable by any prime number that came before it.</FONT>
    <B><FONT color=#804040>push</FONT></B> <FONT color=#008080>@primes</FONT>, <FONT color=#008080>$number_to_check</FONT>;
}

<B><FONT color=#804040>foreach</FONT></B> <FONT color=#008080>$p</FONT> (<FONT color=#008080>@primes</FONT>)
{
    <B><FONT color=#804040>print</FONT></B> <FONT color=#008080>$p</FONT>, <FONT color=#ff00ff>&quot;</FONT><FONT color=#ff00ff>, </FONT><FONT color=#ff00ff>&quot;</FONT>;
}
<B><FONT color=#804040>print</FONT></B> <FONT color=#ff00ff>&quot;</FONT><FONT color=#6a5acd>\n</FONT><FONT color=#ff00ff>&quot;</FONT>;
</pre>
</td>
</tr>
</table>


</p>

<p>
Notice that <tt>push</tt> is equivalent to typing 
<tt>@array = (@array, $extra_elem)</tt>, but it is recommended 
to use it, because it minimizes error and it executes faster.
</p>

<h2>pop</h2>

<p>
<tt>pop</tt> extracts the last element from an array and returns it. Here's a
short example to demonstrate it:
</p>

<p>
<table class="mycode">
<tr class="mycode">
<td class="mycode">
<pre class="mycode">
<FONT color=#0000ff># This program prints the numbers from 10 down to 1.</FONT>
<FONT color=#008080>@numbers</FONT> = (<FONT color=#ff00ff>1</FONT> .. <FONT color=#ff00ff>10</FONT>);
<B><FONT color=#804040>while</FONT></B>(<B><FONT color=#804040>scalar</FONT></B>(<FONT color=#008080>@numbers</FONT>) &gt; <FONT color=#ff00ff>0</FONT>)
{
    <FONT color=#008080>$i</FONT> = <B><FONT color=#804040>pop</FONT></B>(<FONT color=#008080>@numbers</FONT>);
    <B><FONT color=#804040>print</FONT></B> <FONT color=#008080>$i</FONT>, <FONT color=#ff00ff>&quot;</FONT><FONT color=#6a5acd>\n</FONT><FONT color=#ff00ff>&quot;</FONT>;
}
</pre>
</td>
</tr>
</table>


</p>

<h2>shift</h2>

<p>
<tt>shift</tt> extracts the <b>first</b> element of an array and returns it. The
array will be changed to contain only the elements that were previously with 
the 1 to <tt>scalar(@array)-1</tt> indexes.
</p>

<p>
Here's the above example, while using <tt>shift</tt> instead of <tt>pop</tt>:
</p>

<p>
<table class="mycode">
<tr class="mycode">
<td class="mycode">
<pre class="mycode">
<FONT color=#0000ff># This program prints the numbers 1 to 10.</FONT>
<FONT color=#008080>@numbers</FONT> = (<FONT color=#ff00ff>1</FONT> .. <FONT color=#ff00ff>10</FONT>);
<B><FONT color=#804040>while</FONT></B>(<B><FONT color=#804040>scalar</FONT></B>(<FONT color=#008080>@numbers</FONT>) &gt; <FONT color=#ff00ff>0</FONT>)
{
    <FONT color=#008080>$i</FONT> = <B><FONT color=#804040>shift</FONT></B>(<FONT color=#008080>@numbers</FONT>);
    <B><FONT color=#804040>print</FONT></B> <FONT color=#008080>$i</FONT>, <FONT color=#ff00ff>&quot;</FONT><FONT color=#6a5acd>\n</FONT><FONT color=#ff00ff>&quot;</FONT>;
}
</pre>
</td>
</tr>
</table>


</p>

<h2>join</h2>

<p>
The syntax is <tt>join($separator, @array)</tt> and what it does is 
concatenates the elements of <tt>@array</tt> while putting <tt>$seperator</tt> in
between. Here's an example:
</p>

<p>
<table class="mycode">
<tr class="mycode">
<td class="mycode">
<pre class="mycode">
<FONT color=#008080>@myarray</FONT> = (<FONT color=#ff00ff>&quot;</FONT><FONT color=#ff00ff>One fish</FONT><FONT color=#ff00ff>&quot;</FONT>, <FONT color=#ff00ff>&quot;</FONT><FONT color=#ff00ff>Two fish</FONT><FONT color=#ff00ff>&quot;</FONT>, <FONT color=#ff00ff>&quot;</FONT><FONT color=#ff00ff>Red Fish</FONT><FONT color=#ff00ff>&quot;</FONT>, <FONT color=#ff00ff>&quot;</FONT><FONT color=#ff00ff>Blue Fish</FONT><FONT color=#ff00ff>&quot;</FONT>);

<B><FONT color=#804040>print</FONT></B> <B><FONT color=#804040>join</FONT></B>(<FONT color=#ff00ff>&quot;</FONT><FONT color=#6a5acd>\n</FONT><FONT color=#ff00ff>&quot;</FONT>, <FONT color=#008080>@myarray</FONT>), <FONT color=#ff00ff>&quot;</FONT><FONT color=#6a5acd>\n</FONT><FONT color=#ff00ff>&quot;</FONT>;
</pre>
</td>
</tr>
</table>


</p>


<h2>reverse</h2>

<p>The <tt>reverse</tt> function returns the array which contains the elements
of the array passed to it as argument in reverse. Here's an example:</p>

<p>
<table class="mycode">
<tr class="mycode">
<td class="mycode">
<pre class="mycode">
<B><FONT color=#804040>print</FONT></B> <FONT color=#ff00ff>&quot;</FONT><FONT color=#ff00ff>Enter some lines:</FONT><FONT color=#6a5acd>\n</FONT><FONT color=#ff00ff>&quot;</FONT>;

<FONT color=#008080>$line</FONT> = &lt;&gt;;
<B><FONT color=#804040>chomp</FONT></B>(<FONT color=#008080>$line</FONT>);
<B><FONT color=#804040>while</FONT></B> (<FONT color=#008080>$line</FONT>)
{
    <B><FONT color=#804040>push</FONT></B> <FONT color=#008080>@mylines</FONT>, <FONT color=#008080>$line</FONT>;
    <FONT color=#008080>$line</FONT> = &lt;&gt;;
    <B><FONT color=#804040>chomp</FONT></B>(<FONT color=#008080>$line</FONT>);
}

<B><FONT color=#804040>print</FONT></B> <FONT color=#ff00ff>&quot;</FONT><FONT color=#ff00ff>Your lines in reverse are:</FONT><FONT color=#6a5acd>\n</FONT><FONT color=#ff00ff>&quot;</FONT>, <B><FONT color=#804040>join</FONT></B>(<FONT color=#ff00ff>&quot;</FONT><FONT color=#6a5acd>\n</FONT><FONT color=#ff00ff>&quot;</FONT>, <B><FONT color=#804040>reverse</FONT></B>(<FONT color=#008080>@mylines</FONT>)), <FONT color=#ff00ff>&quot;</FONT><FONT color=#6a5acd>\n</FONT><FONT color=#ff00ff>&quot;</FONT>;
</pre>
</td>
</tr>
</table>


</p>

<p>
Note that by typing <tt>scalar(reverse($scalar))</tt> you get the string that 
contains the characters of <tt>$scalar</tt> in reverse. 
<tt>scalar(reverse(@array))</tt> concatenates the array into one string and then
reverses its characters.
</p>



<hr>
<table>
<tr>
<td>
<a href="./../" class="nav">Contents</a></td>
<td>
<a href="./" class="nav">Up</a></td>
<td>
<a href="./foreach/for_and_dotdot.html" class="nav">Previous</a></td>
<td>
<a href="./x.html" class="nav">Next</a></td>
</tr>
</table>

</body>
</html>


