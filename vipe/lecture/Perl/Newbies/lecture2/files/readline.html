<html>
<head>
<title>The &lt;FILEHANDLE&gt; operator</title>
<link rel="StyleSheet" href="./../style.css" type="text/css">
</head>
<body>
<table>
<tr>
<td>
<a href="./../" class="nav">Contents</a></td>
<td>
<a href="./" class="nav">Up</a></td>
<td>
<a href="./print.html" class="nav">Previous</a></td>
<td>
<a href="./../argv.html" class="nav">Next</a></td>
</tr>
</table>

<h1 class="fcs">5.2 The &lt;FILEHANDLE&gt; operator</h1>

<p>
Just like print, can be generalized to files, so can the <tt>&lt;&gt;</tt> 
which we encountered before. If you place the name of the filehandle 
inside the operator, it will read a line from the file opened by that 
filehandle.
</p>

<p>
Here's an example, let's append the line numbers to a given file:
</p>


<p>
<table class="mycode">
<tr class="mycode">
<td class="mycode">
<pre class="mycode">
<B><FONT color=#804040>use strict</FONT></B>;

<B><FONT color=#804040>my</FONT></B> (<FONT color=#008080>$line_num</FONT>, <FONT color=#008080>$line</FONT>);

<FONT color=#008080>$line_num</FONT> = <FONT color=#ff00ff>0</FONT>;
<B><FONT color=#804040>open</FONT></B> I, <FONT color=#ff00ff>&quot;</FONT><FONT color=#ff00ff>&lt;input.txt</FONT><FONT color=#ff00ff>&quot;</FONT>;
<B><FONT color=#804040>open</FONT></B> O, <FONT color=#ff00ff>&quot;</FONT><FONT color=#ff00ff>&gt;output.txt</FONT><FONT color=#ff00ff>&quot;</FONT>;

<B><FONT color=#804040>while</FONT></B> (<FONT color=#008080>$line</FONT> = &lt;I&gt;)
{
    <FONT color=#0000ff># We aren't chomping it so we won't lose the newline.</FONT>
    <B><FONT color=#804040>print</FONT></B> O <FONT color=#008080>$line_num</FONT>, <FONT color=#ff00ff>&quot;</FONT><FONT color=#ff00ff>: </FONT><FONT color=#ff00ff>&quot;</FONT>, <FONT color=#008080>$line</FONT>;
    <FONT color=#008080>$line_num</FONT>++;
}

<B><FONT color=#804040>close</FONT></B> (I);
<B><FONT color=#804040>close</FONT></B> (O);
</pre>
</td>
</tr>
</table>
</p>

<p>
And the following example counts the number of lines in a file that start with 
"A":
</p>

<p>
<table class="mycode">
<tr class="mycode">
<td class="mycode">
<pre class="mycode">
<B><FONT color=#a52a2a>use strict</FONT></B>;

<B><FONT color=#a52a2a>my</FONT></B> (<FONT color=#008b8b>$filename</FONT>, <FONT color=#008b8b>$lines_num</FONT>, <FONT color=#008b8b>$line</FONT>, <FONT color=#008b8b>$c</FONT>);

<FONT color=#008b8b>$lines_num</FONT> = <FONT color=#ff00ff>0</FONT>;
<FONT color=#008b8b>$filename</FONT> = <FONT color=#ff00ff>&quot;</FONT><FONT color=#ff00ff>input.txt</FONT><FONT color=#ff00ff>&quot;</FONT>;
<B><FONT color=#a52a2a>open</FONT></B> I,  <FONT color=#ff00ff>&quot;</FONT><FONT color=#ff00ff>&lt;</FONT><FONT color=#ff00ff>&quot;</FONT> . <FONT color=#008b8b>$filename</FONT>;
<B><FONT color=#a52a2a>while</FONT></B> (<FONT color=#008b8b>$line</FONT> = &lt;I&gt;)
{
    <FONT color=#008b8b>$c</FONT> = <B><FONT color=#a52a2a>substr</FONT></B>(<FONT color=#008b8b>$line</FONT>, <FONT color=#ff00ff>0</FONT>, <FONT color=#ff00ff>1</FONT>);
    <B><FONT color=#a52a2a>if</FONT></B> (<B><FONT color=#a52a2a>lc</FONT></B>(<FONT color=#008b8b>$c</FONT>) <B><FONT color=#a52a2a>eq</FONT></B> <FONT color=#ff00ff>&quot;</FONT><FONT color=#ff00ff>a</FONT><FONT color=#ff00ff>&quot;</FONT>)
    {
        <FONT color=#008b8b>$lines_num</FONT>++;
    }
}
<B><FONT color=#a52a2a>close</FONT></B>(I);

<B><FONT color=#a52a2a>print</FONT></B> <FONT color=#ff00ff>&quot;</FONT><FONT color=#ff00ff>In </FONT><FONT color=#ff00ff>&quot;</FONT> , <FONT color=#008b8b>$filename</FONT>, <FONT color=#ff00ff>&quot;</FONT><FONT color=#ff00ff> there are </FONT><FONT color=#ff00ff>&quot;</FONT>, 
    <FONT color=#008b8b>$lines_num</FONT>, <FONT color=#ff00ff>&quot;</FONT><FONT color=#ff00ff> lines that start with </FONT><FONT color=#6a5acd>\&quot;</FONT><FONT color=#ff00ff>A</FONT><FONT color=#6a5acd>\&quot;</FONT><FONT color=#ff00ff>.</FONT><FONT color=#6a5acd>\n</FONT><FONT color=#ff00ff>&quot;</FONT>;
</pre>
</td>
</tr>
</table>
</p>

<p>
The <tt>join("", &lt;FILEHANDLE&gt;)</tt> command returns the entire contents
of the file from the current position onwards, and may prove to be useful.
Examples for it will be given in the next section where regular expressions
will be taught.
</p>




<hr>
<table>
<tr>
<td>
<a href="./../" class="nav">Contents</a></td>
<td>
<a href="./" class="nav">Up</a></td>
<td>
<a href="./print.html" class="nav">Previous</a></td>
<td>
<a href="./../argv.html" class="nav">Next</a></td>
</tr>
</table>

</body>
</html>


