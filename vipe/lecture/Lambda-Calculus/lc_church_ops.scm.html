<HTML>
<HEAD>
<TITLE>lc_church_ops.scm.html</TITLE>
</HEAD>
<BODY BGcolor=#FFFFFF TEXT=#000000>
<PRE>
<FONT color=#0000ff>; Operations with Church Numerals</FONT>
<FONT color=#0000ff>; -------------------------------</FONT>

<FONT color=#0000ff>; We already saw how to get the number that follows a given number. Now</FONT>
<FONT color=#0000ff>; how to do addition, substraction, multiplication, etc.</FONT>

<FONT color=#0000ff>; Addition:</FONT>
<FONT color=#0000ff>; We can repeat succ on m for n times in order to add n to m:</FONT>

<FONT color=#6a5acd>(</FONT><B><FONT color=#a52a2a>define</FONT></B> add
    <FONT color=#6a5acd>(</FONT><B><FONT color=#a52a2a>lambda</FONT></B> <FONT color=#6a5acd>(</FONT>n<FONT color=#6a5acd>)</FONT>
        <FONT color=#6a5acd>(</FONT><B><FONT color=#a52a2a>lambda</FONT></B> <FONT color=#6a5acd>(</FONT>m<FONT color=#6a5acd>)</FONT>
            <FONT color=#6a5acd>((</FONT>n succ<FONT color=#6a5acd>)</FONT> m<FONT color=#6a5acd>)</FONT>
        <FONT color=#6a5acd>)</FONT>    
    <FONT color=#6a5acd>)</FONT>
<FONT color=#6a5acd>)</FONT>

<FONT color=#0000ff>; We can evaluate it into:</FONT>
<FONT color=#6a5acd>(</FONT><B><FONT color=#a52a2a>define</FONT></B> add
    <FONT color=#6a5acd>(</FONT><B><FONT color=#a52a2a>lambda</FONT></B> <FONT color=#6a5acd>(</FONT>m<FONT color=#6a5acd>)</FONT>
        <FONT color=#6a5acd>(</FONT><B><FONT color=#a52a2a>lambda</FONT></B> <FONT color=#6a5acd>(</FONT>n<FONT color=#6a5acd>)</FONT>
            <FONT color=#6a5acd>(</FONT><B><FONT color=#a52a2a>lambda</FONT></B> <FONT color=#6a5acd>(</FONT>f<FONT color=#6a5acd>)</FONT>
                <FONT color=#6a5acd>(</FONT><B><FONT color=#a52a2a>lambda</FONT></B> <FONT color=#6a5acd>(</FONT>x<FONT color=#6a5acd>)</FONT>
                    <FONT color=#6a5acd>((</FONT>m f<FONT color=#6a5acd>)</FONT> 
                        <FONT color=#6a5acd>((</FONT>n f<FONT color=#6a5acd>)</FONT> x<FONT color=#6a5acd>)</FONT>
                    <FONT color=#6a5acd>)</FONT>
                <FONT color=#6a5acd>)</FONT>
            <FONT color=#6a5acd>)</FONT>
        <FONT color=#6a5acd>)</FONT>
    <FONT color=#6a5acd>)</FONT>
<FONT color=#6a5acd>)</FONT>

<FONT color=#0000ff>; Now let's try multiplication. Since a church numeral is basically about</FONT>
<FONT color=#0000ff>; repeating something n times, we can repeat the other multiplicand N times.</FONT>

<FONT color=#6a5acd>(</FONT><B><FONT color=#a52a2a>define</FONT></B> mult
    <FONT color=#6a5acd>(</FONT><B><FONT color=#a52a2a>lambda</FONT></B> <FONT color=#6a5acd>(</FONT>m<FONT color=#6a5acd>)</FONT>
        <FONT color=#6a5acd>(</FONT><B><FONT color=#a52a2a>lambda</FONT></B> <FONT color=#6a5acd>(</FONT>n<FONT color=#6a5acd>)</FONT>
            <FONT color=#6a5acd>(</FONT><B><FONT color=#a52a2a>lambda</FONT></B> <FONT color=#6a5acd>(</FONT>f<FONT color=#6a5acd>)</FONT>
                <FONT color=#6a5acd>(</FONT>m <FONT color=#6a5acd>(</FONT>n f<FONT color=#6a5acd>))</FONT>
            <FONT color=#6a5acd>)</FONT>
        <FONT color=#6a5acd>)</FONT>
    <FONT color=#6a5acd>)</FONT>
<FONT color=#6a5acd>)</FONT>

<FONT color=#0000ff>; Power: we can repeat the LC's mult m times</FONT>

<FONT color=#6a5acd>(</FONT><B><FONT color=#a52a2a>define</FONT></B> power
    <FONT color=#6a5acd>(</FONT><B><FONT color=#a52a2a>lambda</FONT></B> <FONT color=#6a5acd>(</FONT>m<FONT color=#6a5acd>)</FONT>
        <FONT color=#6a5acd>(</FONT><B><FONT color=#a52a2a>lambda</FONT></B> <FONT color=#6a5acd>(</FONT>n<FONT color=#6a5acd>)</FONT>
            <FONT color=#6a5acd>((</FONT>n <FONT color=#6a5acd>(</FONT>mult m<FONT color=#6a5acd>))</FONT> <FONT color=#6a5acd>(</FONT>succ zero<FONT color=#6a5acd>))</FONT>
        <FONT color=#6a5acd>)</FONT>
    <FONT color=#6a5acd>)</FONT>
<FONT color=#6a5acd>)</FONT>

<FONT color=#0000ff>; This, in turn can be simplified into:</FONT>

<FONT color=#6a5acd>(</FONT><B><FONT color=#a52a2a>define</FONT></B> power
    <FONT color=#6a5acd>(</FONT><B><FONT color=#a52a2a>lambda</FONT></B> <FONT color=#6a5acd>(</FONT>m<FONT color=#6a5acd>)</FONT>
        <FONT color=#6a5acd>(</FONT><B><FONT color=#a52a2a>lambda</FONT></B> <FONT color=#6a5acd>(</FONT>n<FONT color=#6a5acd>)</FONT>
            <FONT color=#6a5acd>(</FONT>n m<FONT color=#6a5acd>)</FONT>
        <FONT color=#6a5acd>)</FONT>
    <FONT color=#6a5acd>)</FONT>
<FONT color=#6a5acd>)</FONT>

<FONT color=#6a5acd>(</FONT><FONT color=#008b8b>display</FONT> <FONT color=#6a5acd>(</FONT>church-&gt;int <FONT color=#6a5acd>((</FONT>power zero<FONT color=#6a5acd>)</FONT> zero<FONT color=#6a5acd>)))</FONT>
<FONT color=#0000ff>; Displays 1, which is another proof that 0^0 is 1.</FONT>

<FONT color=#0000ff>; Predecessor</FONT>
<FONT color=#0000ff>; -----------</FONT>

<FONT color=#0000ff>; Getting the predecessor in Church numerals is quite tricky. </FONT>
<FONT color=#0000ff>; Let's consider the following method:</FONT>
<FONT color=#0000ff>;</FONT>
<FONT color=#0000ff>; Create a pair [0,0] and convert it into the pair [0,1]. (what</FONT>
<FONT color=#0000ff>; we do is take the cdr and put it in the car and set the cdr to it plus</FONT>
<FONT color=#0000ff>; 1).</FONT>
<FONT color=#0000ff>; </FONT>
<FONT color=#0000ff>; Then into [1,2], [2,3], etc. Repeat this process N times and </FONT>
<FONT color=#0000ff>; we'll get [N-1, N].</FONT>
<FONT color=#0000ff>;</FONT>
<FONT color=#0000ff>; Then we can return the first element of the final pair which is N-1.</FONT>

<FONT color=#6a5acd>(</FONT><B><FONT color=#a52a2a>define</FONT></B> pred_next_tuple
    <FONT color=#6a5acd>(</FONT><B><FONT color=#a52a2a>lambda</FONT></B> <FONT color=#6a5acd>(</FONT>tuple<FONT color=#6a5acd>)</FONT>
        <FONT color=#6a5acd>((</FONT>lc_cons
            <FONT color=#6a5acd>(</FONT>lc_cdr tuple<FONT color=#6a5acd>))</FONT>       
            <FONT color=#6a5acd>(</FONT>succ <FONT color=#6a5acd>(</FONT>lc_cdr tuple<FONT color=#6a5acd>)))</FONT>
    <FONT color=#6a5acd>)</FONT>
<FONT color=#6a5acd>)</FONT>
<FONT color=#0000ff>; Note that we base the next tuple on the second item of the original tuple.</FONT>

<FONT color=#6a5acd>(</FONT><B><FONT color=#a52a2a>define</FONT></B> pred
    <FONT color=#6a5acd>(</FONT><B><FONT color=#a52a2a>lambda</FONT></B> <FONT color=#6a5acd>(</FONT>n<FONT color=#6a5acd>)</FONT>
        <FONT color=#6a5acd>(</FONT>lc_car 
            <FONT color=#6a5acd>((</FONT>n pred_next_tuple<FONT color=#6a5acd>)</FONT> 
                <FONT color=#0000ff>; A tuple with two zeros.</FONT>
                <FONT color=#6a5acd>((</FONT>lc_cons zero<FONT color=#6a5acd>)</FONT> zero<FONT color=#6a5acd>)</FONT>
            <FONT color=#6a5acd>)</FONT>
        <FONT color=#6a5acd>)</FONT>
    <FONT color=#6a5acd>)</FONT>
<FONT color=#6a5acd>)</FONT>

<FONT color=#0000ff>; Note that the pred of zero is zero, because there isn't -1 in church numerals</FONT>

<FONT color=#0000ff>; Subtraction is simply repeating pred m times</FONT>

<FONT color=#6a5acd>(</FONT><B><FONT color=#a52a2a>define</FONT></B> subtract
    <FONT color=#6a5acd>(</FONT><B><FONT color=#a52a2a>lambda</FONT></B> <FONT color=#6a5acd>(</FONT>n<FONT color=#6a5acd>)</FONT>
        <FONT color=#6a5acd>(</FONT><B><FONT color=#a52a2a>lambda</FONT></B> <FONT color=#6a5acd>(</FONT>m<FONT color=#6a5acd>)</FONT>
            <FONT color=#6a5acd>((</FONT>m pred<FONT color=#6a5acd>)</FONT> n<FONT color=#6a5acd>)</FONT>
        <FONT color=#6a5acd>)</FONT>
    <FONT color=#6a5acd>)</FONT>
<FONT color=#6a5acd>)</FONT>


<FONT color=#0000ff>; Now, how do we compare two Church numerals? We can subtract the</FONT>
<FONT color=#0000ff>; first one from the second one. If the result is equal to zero, then the </FONT>
<FONT color=#0000ff>; second one is greater or equal to the first.</FONT>

<FONT color=#6a5acd>(</FONT><B><FONT color=#a52a2a>define</FONT></B> is-zero?
    <FONT color=#6a5acd>(</FONT><B><FONT color=#a52a2a>lambda</FONT></B> <FONT color=#6a5acd>(</FONT>n<FONT color=#6a5acd>)</FONT>
            <FONT color=#6a5acd>((</FONT>n <FONT color=#6a5acd>(</FONT><B><FONT color=#a52a2a>lambda</FONT></B> <FONT color=#6a5acd>(</FONT>x<FONT color=#6a5acd>)</FONT> lc_false<FONT color=#6a5acd>))</FONT> lc_true<FONT color=#6a5acd>)</FONT>
    <FONT color=#6a5acd>)</FONT>
<FONT color=#6a5acd>)</FONT>

<FONT color=#6a5acd>(</FONT><B><FONT color=#a52a2a>define</FONT></B> less-or-equal
    <FONT color=#6a5acd>(</FONT><B><FONT color=#a52a2a>lambda</FONT></B> <FONT color=#6a5acd>(</FONT>x<FONT color=#6a5acd>)</FONT>
            <FONT color=#6a5acd>(</FONT><B><FONT color=#a52a2a>lambda</FONT></B> <FONT color=#6a5acd>(</FONT>y<FONT color=#6a5acd>)</FONT>
                    <FONT color=#6a5acd>(</FONT>is-zero? <FONT color=#6a5acd>((</FONT>subtract x<FONT color=#6a5acd>)</FONT> y<FONT color=#6a5acd>))</FONT>
            <FONT color=#6a5acd>)</FONT>
    <FONT color=#6a5acd>)</FONT>
<FONT color=#6a5acd>)</FONT>

<FONT color=#0000ff>; In a similiar way and by using not we can define all other comparison </FONT>
<FONT color=#0000ff>; operators.</FONT>


<FONT color=#0000ff>; Division and modulo? For this we need the Y combinator.</FONT>
<FONT color=#0000ff>; Stay tuned...</FONT>


</PRE>
</BODY>
</HTML>
