<html>
<head>
<title>Exporting Functions</title>
<link rel="StyleSheet" href="./../../style.css" type="text/css">
</head>
<body>
<table>
<tr>
<td>
<a href="./../../" class="nav">Contents</a></td>
<td>
<a href="./" class="nav">Up</a></td>
<td>
<a href="./accessing.html" class="nav">Previous</a></td>
<td>
<a href="./variables.html" class="nav">Next</a></td>
</tr>
</table>

<h1 class="fcs">3.2.2 Exporting Functions</h1>

<p>
It is possible to make a functions of your module automatically available 
in any other namespace or script that uses it. To do so one needs to
type the following code fragment near the beginning of the module:
</p>


<p>
<table class="mycode">
<tr class="mycode">
<td class="mycode">
<pre class="mycode">
<B><FONT color=#a52a2a>use </FONT></B>Exporter;

<B><FONT color=#a52a2a>use vars</FONT></B> <FONT color=#ff00ff>qw(</FONT><FONT color=#ff00ff>@ISA @EXPORT</FONT><FONT color=#ff00ff>)</FONT>;

<FONT color=#008b8b>@ISA</FONT>=<FONT color=#ff00ff>qw(</FONT><FONT color=#ff00ff>Exporter</FONT><FONT color=#ff00ff>)</FONT>;

<FONT color=#008b8b>@EXPORT</FONT>=(<FONT color=#ff00ff>&quot;</FONT><FONT color=#ff00ff>function1</FONT><FONT color=#ff00ff>&quot;</FONT>, <FONT color=#ff00ff>&quot;</FONT><FONT color=#ff00ff>function2</FONT><FONT color=#ff00ff>&quot;</FONT>, <FONT color=#ff00ff>&quot;</FONT><FONT color=#ff00ff>function3</FONT><FONT color=#ff00ff>&quot;</FONT>);

</pre>
</td>
</tr>
</table>
</p>

<p>
What this fragment does is make the module inherit the <tt>Exporter</tt>
module which is a special Perl module that can export symbols. Then 
it declares the special variable <tt>@EXPORT</tt> which should be filled
with all the functions that one wishes to export.
</p>

<p>
Here is an example which has a module called "Calc" and a script that uses it:
</p>


<p>
<table class="mycode">
<tr class="mycode">
<td class="mycode">
<pre class="mycode">
<FONT color=#0000ff># File: Calc.pm</FONT>
<FONT color=#0000ff>#</FONT>
<B><FONT color=#a52a2a>package</FONT></B><B><FONT color=#2e8b57> Calc;</FONT></B>

<B><FONT color=#a52a2a>use strict</FONT></B>;

<B><FONT color=#a52a2a>use </FONT></B>Exporter;

<B><FONT color=#a52a2a>use vars</FONT></B> <FONT color=#ff00ff>qw(</FONT><FONT color=#ff00ff>@ISA @EXPORT</FONT><FONT color=#ff00ff>)</FONT>;

<FONT color=#008b8b>@ISA</FONT>=<FONT color=#ff00ff>qw(</FONT><FONT color=#ff00ff>Exporter</FONT><FONT color=#ff00ff>)</FONT>;

<FONT color=#008b8b>@EXPORT</FONT> = (<FONT color=#ff00ff>&quot;</FONT><FONT color=#ff00ff>gcd</FONT><FONT color=#ff00ff>&quot;</FONT>);

<FONT color=#0000ff># This function calculates the greatest common divisor of two integers </FONT>
<B><FONT color=#a52a2a>sub</FONT></B><FONT color=#008b8b> </FONT><FONT color=#008b8b>gcd</FONT>
{
    <B><FONT color=#a52a2a>my</FONT></B> <FONT color=#008b8b>$a</FONT> = <B><FONT color=#a52a2a>shift</FONT></B>;
    <B><FONT color=#a52a2a>my</FONT></B> <FONT color=#008b8b>$b</FONT> = <B><FONT color=#a52a2a>shift</FONT></B>;

    <B><FONT color=#a52a2a>if</FONT></B> (<FONT color=#008b8b>$b</FONT> &gt; <FONT color=#008b8b>$a</FONT>)
    {
        (<FONT color=#008b8b>$a</FONT>, <FONT color=#008b8b>$b</FONT>) = (<FONT color=#008b8b>$b</FONT> , <FONT color=#008b8b>$a</FONT>);
    }
    
    <B><FONT color=#a52a2a>while</FONT></B> (<FONT color=#008b8b>$a</FONT> % <FONT color=#008b8b>$b</FONT> &gt; <FONT color=#ff00ff>0</FONT>)
    {
        (<FONT color=#008b8b>$a</FONT>, <FONT color=#008b8b>$b</FONT>) = (<FONT color=#008b8b>$b</FONT>, <FONT color=#008b8b>$a</FONT> % <FONT color=#008b8b>$b</FONT>);
    }

    <B><FONT color=#a52a2a>return</FONT></B> <FONT color=#008b8b>$b</FONT>;
}

<FONT color=#ff00ff>1</FONT>;
</pre>
</td>
</tr>
</table>
</p>


<p>
<table class="mycode">
<tr class="mycode">
<td class="mycode">
<pre class="mycode">
<FONT color=#a020f0>#!/usr/bin/perl</FONT>

<B><FONT color=#a52a2a>use strict</FONT></B>;

<B><FONT color=#a52a2a>use </FONT></B>Calc;

<B><FONT color=#a52a2a>my</FONT></B> <FONT color=#008b8b>$a</FONT> = <FONT color=#ff00ff>200</FONT>;
<B><FONT color=#a52a2a>my</FONT></B> <FONT color=#008b8b>$b</FONT> = <FONT color=#ff00ff>15</FONT>;

<B><FONT color=#a52a2a>print</FONT></B> <FONT color=#ff00ff>&quot;</FONT><FONT color=#ff00ff>gcd(</FONT><FONT color=#6a5acd>\$</FONT><FONT color=#ff00ff>a,</FONT><FONT color=#6a5acd>\$</FONT><FONT color=#ff00ff>b) == </FONT><FONT color=#ff00ff>&quot;</FONT> , gcd(<FONT color=#008b8b>$a</FONT>,<FONT color=#008b8b>$b</FONT>), <FONT color=#ff00ff>&quot;</FONT><FONT color=#6a5acd>\n</FONT><FONT color=#ff00ff>&quot;</FONT>;
</pre>
</td>
</tr>
</table>
</p>

<p>
As you can see, the script invokes the "gcd" function of the "Calc" module
without having to invoke it with <tt>Calc::gcd()</tt>. Exporting functions
like that should be used with care, as the function names may conflict with
those of the importing namespace.
</p>




<hr>
<table>
<tr>
<td>
<a href="./../../" class="nav">Contents</a></td>
<td>
<a href="./" class="nav">Up</a></td>
<td>
<a href="./accessing.html" class="nav">Previous</a></td>
<td>
<a href="./variables.html" class="nav">Next</a></td>
</tr>
</table>

</body>
</html>


